{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Dashboard from\"./pages/Dashboard\";import Login from\"./pages/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[userRole,setUserRole]=useState(\"\");// Check if user is already logged in (from localStorage)\nuseEffect(()=>{const authStatus=localStorage.getItem(\"isAuthenticated\");const role=localStorage.getItem(\"userRole\");if(authStatus===\"true\"&&role){setIsAuthenticated(true);setUserRole(role);}},[]);const handleLogin=(email,password,role)=>{// Simple authentication check (in production, this would be an API call)\nif(email&&password){setIsAuthenticated(true);setUserRole(role);localStorage.setItem(\"isAuthenticated\",\"true\");localStorage.setItem(\"userRole\",role);localStorage.setItem(\"userEmail\",email);}};const handleLogout=()=>{setIsAuthenticated(false);setUserRole(\"\");localStorage.removeItem(\"isAuthenticated\");localStorage.removeItem(\"userRole\");localStorage.removeItem(\"userEmail\");};if(!isAuthenticated){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin});}return/*#__PURE__*/_jsx(Dashboard,{userRole:userRole,onLogout:handleLogout});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Dashboard","Login","jsx","_jsx","App","isAuthenticated","setIsAuthenticated","userRole","setUserRole","authStatus","localStorage","getItem","role","handleLogin","email","password","setItem","handleLogout","removeItem","onLogin","onLogout"],"sources":["C:/Users/aditi/OneDrive/Desktop/saransh/crm-20402/crm-dashboard/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport Login from \"./pages/Login\";\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [userRole, setUserRole] = useState(\"\");\r\n\r\n  // Check if user is already logged in (from localStorage)\r\n  useEffect(() => {\r\n    const authStatus = localStorage.getItem(\"isAuthenticated\");\r\n    const role = localStorage.getItem(\"userRole\");\r\n    if (authStatus === \"true\" && role) {\r\n      setIsAuthenticated(true);\r\n      setUserRole(role);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogin = (email: string, password: string, role: string) => {\r\n    // Simple authentication check (in production, this would be an API call)\r\n    if (email && password) {\r\n      setIsAuthenticated(true);\r\n      setUserRole(role);\r\n      localStorage.setItem(\"isAuthenticated\", \"true\");\r\n      localStorage.setItem(\"userRole\", role);\r\n      localStorage.setItem(\"userEmail\", email);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setIsAuthenticated(false);\r\n    setUserRole(\"\");\r\n    localStorage.removeItem(\"isAuthenticated\");\r\n    localStorage.removeItem(\"userRole\");\r\n    localStorage.removeItem(\"userEmail\");\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return <Login onLogin={handleLogin} />;\r\n  }\r\n\r\n  return <Dashboard userRole={userRole} onLogout={handleLogout} />;\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,KAAK,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE5C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAC1D,KAAM,CAAAC,IAAI,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC7C,GAAIF,UAAU,GAAK,MAAM,EAAIG,IAAI,CAAE,CACjCN,kBAAkB,CAAC,IAAI,CAAC,CACxBE,WAAW,CAACI,IAAI,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAGA,CAACC,KAAa,CAAEC,QAAgB,CAAEH,IAAY,GAAK,CACrE;AACA,GAAIE,KAAK,EAAIC,QAAQ,CAAE,CACrBT,kBAAkB,CAAC,IAAI,CAAC,CACxBE,WAAW,CAACI,IAAI,CAAC,CACjBF,YAAY,CAACM,OAAO,CAAC,iBAAiB,CAAE,MAAM,CAAC,CAC/CN,YAAY,CAACM,OAAO,CAAC,UAAU,CAAEJ,IAAI,CAAC,CACtCF,YAAY,CAACM,OAAO,CAAC,WAAW,CAAEF,KAAK,CAAC,CAC1C,CACF,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACzBX,kBAAkB,CAAC,KAAK,CAAC,CACzBE,WAAW,CAAC,EAAE,CAAC,CACfE,YAAY,CAACQ,UAAU,CAAC,iBAAiB,CAAC,CAC1CR,YAAY,CAACQ,UAAU,CAAC,UAAU,CAAC,CACnCR,YAAY,CAACQ,UAAU,CAAC,WAAW,CAAC,CACtC,CAAC,CAED,GAAI,CAACb,eAAe,CAAE,CACpB,mBAAOF,IAAA,CAACF,KAAK,EAACkB,OAAO,CAAEN,WAAY,CAAE,CAAC,CACxC,CAEA,mBAAOV,IAAA,CAACH,SAAS,EAACO,QAAQ,CAAEA,QAAS,CAACa,QAAQ,CAAEH,YAAa,CAAE,CAAC,CAClE,CAEA,cAAe,CAAAb,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}